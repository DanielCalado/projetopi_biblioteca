<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      template="index.xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    
    <h:head>
        <title>Biblioteca SJ</title>
    </h:head>
    <h:body>
        <ui:include src="menu.xhtml"/>
        
        <h1>Cadastrar Usuario</h1>
         <h:form id="cadastroForm">
            <p:panelGrid columns="2" id="coluna1">
                <h:outputLabel for="nome" value="Nome:"></h:outputLabel>
                <h:inputText id="nome" value="#{usuarioBean.usuario.nome}"></h:inputText>
                <h:outputLabel for="cpf" value="CPF:"></h:outputLabel>
                <p:inputMask id="cpf" mask='999.999.999-99' value="#{usuarioBean.usuario.cpf}"></p:inputMask>
                <h:outputLabel for="datanas" value="Data de Nascimento:"></h:outputLabel>
                <p:inputMask id="datanas" mask="99/99/9999" value="#{usuarioBean.usuario.datanas}">
                             <f:convertDateTime pattern="dd/MM/yyyy"/></p:inputMask>
                <p:outputLabel value="Sexo" for="sexo" ></p:outputLabel>
                <p:selectOneRadio id= "sexo" value="#{usuarioBean.usuario.sexo}">
                               <f:selectItem itemLabel="Masculino" itemValue="Masculino" />
                               <f:selectItem itemLabel="Feminino" itemValue="Feminino" />
                </p:selectOneRadio>  
                <h:outputLabel for="ensino" value="Escolaridade" />
                <h:selectOneMenu id="ensino" value="#{usuarioBean.usuario.ensino}" required="true" label="ensino">
                <f:selectItem itemLabel="Nunca Estudou" itemValue="Nunca Estudou" />
                <f:selectItem itemLabel="Fundamental Imcompleto" itemValue="Fundamental Imcompleto" />
                <f:selectItem itemLabel="Fundamental Completo" itemValue="Fundamental Completo" />
                <f:selectItem itemLabel="Medio Imcompleto" itemValue="Medio Imcompleto" />
                <f:selectItem itemLabel="Medio Completo" itemValue="Medio Completo" />
                <f:selectItem itemLabel="Superior" itemValue="Superior" />
            </h:selectOneMenu>
           
             <h:outputLabel for="email" value="E-mail:"></h:outputLabel>
                <h:inputText id="email" value="#{usuarioBean.usuario.email}"></h:inputText>
                <h:outputLabel for="telefone" value="Telefone:"></h:outputLabel>
                <p:inputMask id="telefone" mask='(99)99999-9999' value="#{usuarioBean.usuario.telefone}"></p:inputMask>
                
            
             
           </p:panelGrid>
               
    
    
             <h1></h1>
                <h2>Endereço</h2>
               
                    <p:panelGrid columns="4" id="coluna">
                        <h:outputLabel for="rua" value="Rua:"></h:outputLabel>
                        <h:inputText id="rua" value="#{usuarioBean.usuario.endereco.rua}"></h:inputText>
                        <h:outputLabel for="num" value="Numero:"></h:outputLabel>
                        <h:inputText id="num" value="#{usuarioBean.usuario.endereco.numero}"></h:inputText>
                    <h:outputLabel for="bairro" value="Bairro:"></h:outputLabel>
                        <h:inputText id="bairro" value="#{usuarioBean.usuario.endereco.bairro}"></h:inputText>
                    <h:outputLabel for="cidade" value="Cidade:"></h:outputLabel>
                        <h:inputText id="cidade" value="#{usuarioBean.usuario.endereco.cidade}"></h:inputText>
                    <h:outputLabel for="estad" value="Estado:"></h:outputLabel>
                    <h:outputLabel for="estado" value="PERNAMBUCO"></h:outputLabel>
                    <h:outputLabel for="cep" value="CEP:"></h:outputLabel>
                    <p:inputMask id="cep" mask= "99999-999"  value="#{usuarioBean.usuario.endereco.cep}"></p:inputMask>
                    
                    </p:panelGrid> 

      
                <p:commandButton value="Cadastrar" oncomplete="PF('widConfDial').show();"/>
            
            
            <p:confirmDialog id="confDial" visible="false" hideEffect="explode" showEffect="explode"
                             message="Realmente deseja relalizar o cadastro?" widgetVar="widConfDial"
                             >
                <f:facet name='header'>
                    Atenção!!!
                </f:facet>
                <center>
                <p:commandButton value="sim" action="#{usuarioBean.salvar(usuarioBean.usuario)}"
                                oncomplete="PF('widConfDial').hide();PF('widConfDial2').show()" />
                <p:commandButton value="não" oncomplete="PF('widConfDial').hide()"/>
                </center>
            </p:confirmDialog>
               
           <p:confirmDialog id="confDial2" visible="false" hideEffect="explode" showEffect="explode"
                             message="Cadastro efetuado com sucesso!" widgetVar="widConfDial2"
                             >
               <center>
                <p:commandButton value="sim" action="index.xhtml"/>
                <p:commandButton value="novo" oncomplete="PF('widConfDial2').hide()"/>
               </center>
           </p:confirmDialog>
             
       </h:form>       
    </h:body>
</html>

